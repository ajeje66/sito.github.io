<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Museo della Civilt√† Contadina</title>
    <style>
		body.dark {
		background-color: #121212;
		color: #ffffff;
	}
	header {
      background-color: #d8cbb3;
      text-align: center;
      padding: 40px 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      animation: fadeDown 1s ease;
      position: relative;
    }
	header h1 {
      margin: 0;
      font-size: 2.8em;
      letter-spacing: 1px;
      color: #3a2c1a;
    }
	/* Pulsante modalit√† notte */
    #toggleNight {
      position: absolute;
      top: 15px;
      right: 20px;
      background: #3a2c1a;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 8px 14px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.3s;
    }

    #toggleNight:hover {
      background: #55422a;
    }
	nav {
      background-color: #bfae94;
      display: flex;
      justify-content: center;
      gap: 25px;
      padding: 12px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: background-color 0.6s;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s, transform 0.3s;
    }

    nav a:hover {
      color: #3a2c1a;
      transform: scale(1.1);
    }

    .hero {
      position: relative;
      height: 70vh;
      background: url('https://images.unsplash.com/photo-1576765608614-b5c0bdb62e9b') center/cover no-repeat;
      color: white;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden; 
      animation: fadeIn 1.5s ease;
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(255,255,255,0.2), rgba(0,0,0,0.6) 60%);
      mix-blend-mode: overlay;
      transition: background 0.1s;
    }

    .hero h2 {
      position: relative;
      font-size: 2em;
      background-color: rgba(0, 0, 0, 0.5);
      display: inline-block;
      padding: 10px 25px;
      border-radius: 6px;
      z-index: 1;
      animation: slideUp 1.2s ease;
    }

    section {
      padding: 60px 20px;
      max-width: 900px;
      margin: auto;
      opacity: 0;
      transform: translateY(40px);
      transition: all 0.8s ease;
    }

    section.visible {
      opacity: 1;
      transform: translateY(0);
    }
	footer {
      background-color: #bfae94;
      color: #fff;
      text-align: center;
      padding: 25px;
      margin-top: 50px;
      box-shadow: 0 -3px 10px rgba(0,0,0,0.1);
      transition: background-color 0.6s, color 0.6s;
    }
	/* ----- MODALIT√Ä NOTTURNA ----- */
    body.night {
      background-color: #1c1c1c;
      color: #f0f0f0;
    }

    body.night header {
      background-color: #2a2a2a;
	  
    }
	body.night header h1 {
	color: #f5e6c8;
	}

    body.night nav {
      background-color: #333;
	  
    }

    body.night nav a:hover {
      color: #ffcc66;
    }

    body.night footer {
      background-color: #2a2a2a;
      color: #ddd;
    }

    /* ----- ANIMAZIONI KEYFRAMES ----- */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ----- RESPONSIVE ----- */
    @media (max-width: 600px) {
      header h1 { font-size: 2em; }
      .hero h2 { font-size: 1.4em; }
    }
		
	.img-responsive {
	max-width: 100%;
	height: auto;
	}
	@media (max-width: 600px) {
  header {
    flex-direction: column; /* elementi impilati verticalmente */
    padding: 15px;
    gap: 8px;
  }

  header .logo-header {
    height: 40px; /* ridotto per mobile */
  }

  header h1 {
    font-size: 1.6em; /* titolo pi√π piccolo */
    text-align: center;
  }

  #toggleNight {
    position: static;
    margin-top: 5px;
  }
}
	
	body { margin:0; background:#eee; font-family:sans-serif; }
.controls {
	pointer-events:auto;
	position:absolute; top:10px; left:10px; z-index:10;
	background:white; border-radius:6px;
	box-shadow:0 2px 6px rgba(0,0,0,.3); overflow:visible;
	}
svg{pointer-events:auto;}
.controls button { display:block; width:36px; height:36px; border:none; background:white; font-size:18px; cursor:pointer;   user-select: none;
  -webkit-user-select: none; /* Chrome, Safari */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* Edge */}
.controls button:hover { background:#f0f0f0; }
.controls input[type=range] { width:100px; margin:5px; }
.controls ul { display:none; margin:5px; padding:0; list-style:none; max-height:150px; overflow-y:auto; }
.point { cursor:pointer; }
.point circle { opacity:0.6; }
.point text {font-size: 6px;  user-select: none;
  -webkit-user-select: none; /* Chrome, Safari */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* Edge */}
.point:hover circle { opacity:0.8; }
#fumetto {opacity:0; transform:scale(0.9); transform-origin:top center; transition:0.25s; display:none; }
#fumetto.show { opacity:1; transform:scale(1); }
#fumetto-link-text{ fill:#0066cc; font-size:14px; text-decoration:underline; cursor:pointer; }
#fumettoHTML {
  width: 300px; 
}
#fumettoHTML.expanded {
  width: 400px;
  max-height: 300px; /* Altezza massima del fumetto */
  overflow: hidden;
  display: block;
}

#cornice {
  position:relative;
  margin:0 auto;
  margin-top: 50px;
  width: 100%;
  height: 80vh;
  max-width: 1000px;
  border: 2px solid #333;
  background: white;
  overflow: hidden;
  cursor: grab;
  touch-action: none;
} 

body.mobile .point circle {
  r: 6;
}
.points-hidden .point {
  display: none;
}
.btn-tooltip {
  position: relative;
}

.btn-tooltip::after {
  content: attr(data-tooltip);
  position: absolute;
  left: 110%;
  top: 50%;
  transform: translateY(-50%);
  background: #333;
  color: #fff;
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 4px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}

.btn-tooltip:hover::after {
  opacity: 1;
}
@media (max-width: 768px) {
  #cornice {
    margin-top: 10px;
    height: 55vh;       /* ‚¨ÖÔ∏è qui la riduci */
    max-width: 100%;
    border-width: 1px;
  }
  body{margin: 0;}
}
@media (max-width: 600px) {
  nav {
    flex-direction: column;
    gap: 10px;
    padding: 10px;
  }

  nav a {
    font-size: 0.9em;
  }
}
#info {
    text-align: center; /* centra il testo orizzontalmente */
    margin: 20px 0;
}

.info-content {
    display: inline-flex;       /* rende testo+immagine un blocco flex */
    align-items: center;        /* centra verticalmente */
    gap: 10px;                  /* spazio tra testo e immagine */
}
/*---SUBMENU--*/
nav {
  position: relative;
  z-index:10;
}
.menu {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
}
.menu > li {
  position: relative; /* necessario per il sottomenu */
}
.menu a {
  display: block;
  padding: 10px 15px;
  color: white;
  text-decoration: none;
}

/* Hover desktop */
.menu li:hover > .submenu {
  display: block;
}

/* Sottomenu nascosto di default */
.submenu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #bfae94;
  list-style: none;
  padding: 0;
  margin: 0;
  min-width: 150px;
}
.submenu li a {
  padding: 10px;
  color: white;
}

/* Hover sottomenu */
.submenu li a:hover {
  background-color: #555;
}

/* Mobile: mostra il sottomenu al tap */
@media (max-width: 768px) {
  .menu {
    flex-direction: column;
  }
  .submenu {
    position: static;
  }
  /* usa checkbox hack per tap */
  .dropdown > a::after {
    content: " ‚ñº";
    float: right;
  }
}


body.night .submenu {
  background-color: #333; /* sfondo scuro */
}

body.night .submenu li a {
  color: #f0f0f0; /* colore testo chiaro */
}

body.night .submenu li a:hover {
  background-color: #555; /* colore hover leggermente diverso */
}

#scrollTopBtn {
  display: none; /* nascosto di default */
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 50; /* sopra tutto */
  background-color: #333;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 18px;
  transition: background-color 0.3s;
}

#scrollTopBtn:hover {
  background-color: #555;
}
.body.night #scrollTopBtn {
  background-color: #bfae94;
}

.body.night #scrollTopBtn:hover {
  background-color: #444;
}

body.night #scrollTopBtn {
  background-color: #d8cbb3; /* sfondo pi√π scuro */
  color: #000;         /* colore della freccia */
}

body.night #scrollTopBtn:hover {
  background-color: #ffe6b3; /* sfondo al passaggio del mouse */
}
  </style>
  </head>
  <body>
  <header>
    <h1>Museo della Civilt√† Contadina</h1>
    <button id="toggleNight">üåô Modalit√† Notte</button>
  </header>
    <nav>
  <ul class="menu">
    <li class="dropdown">
      <a href="#home">Home</a>
      <ul class="submenu">
        <li><a href="index.html#info">Info</a></li>
        <li><a href="index.html#foto">Foto-gallery</a></li>
      </ul>
    </li>
    <li><a href="proverbi.html">Saggezza popolare</a></li>
    <li><a href="cultura.html">La nostra cultura</a></li>
    <li><a href="mappa.html">Percorso urbano</a></li>
    <li><a href="dizionario.html">Dizionario</a></li>
  </ul>
</nav>
  <section id="info">
  <h2>Descrizione:... <br>
  Durata punti: 1-12 ~ 1.30 h </h2>
  </section>
	<div id="cornice">
<div class="controls">
  <button class="btn-tooltip" data-tooltip="Zoom avanti" id="zoomIn">+</button>
  <button class="btn-tooltip" data-tooltip="Zoom indietro" id="zoomOut">‚àí</button>
  <button class="btn-tooltip" data-tooltip="Reset" id="reset">‚ü≥</button>
  <button class="btn-tooltip" data-tooltip="Mostra/nascondi slider" id="showZoomSlider">üîç</button>
  <button class="btn-tooltip" data-tooltip="Mostra/nascondi lista" id="showFumettiList">‚â°</button>
  <button class="btn-tooltip" data-tooltip="Mostra/nascondi punti" id="togglePoints">üëÅ</button>
  <input type="range" id="zoomSlider" min="1" max="4" step="0.01" style="display:none;">
  <ul id="fumettiList"></ul>
</div>
<svg id="svg" viewBox="0 0 800 600" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="viewport">
  <image x="0" y="0" width="800" height="600" image-rendering="optimized"  xlink:href="1.png"/>

  <g class="point" data-title="Museo della Civilt√† Contadina" data-description="Piazza Umberto I √® il cuore storico e simbolico di Castel San Lorenzo. 
	Intitolata al Re, conserva intatto il fascino delle antiche piazze medievali, 
	con i suoi elementi pi√π rappresentativi: il Castello, il Municipio e la Croce, 
	segni di storia, fede e identit√†. Fino agli anni ottanta, 
	la piazza √® stata il centro della vita del paese, 
	luogo d‚Äôincontro e fulcro delle attivit√† quotidiane. 
	Con il tempo, lo sviluppo urbano si √® esteso verso via Roma e le aree pi√π basse del borgo, 
	dando al paese la suggestiva forma di una ‚Äústella cometa‚Äù. 
	L‚Äôantico edificio comunale ospita oggi il Museo della Civilt√† Contadina, 
	testimonianza preziosa della vita rurale di un tempo. 
	Ristrutturato nel 1917, l‚Äôedificio era originariamente dotato di una scenografica scala semicircolare che conduceva a un ballatoio esterno, 
	successivamente rimossa per ampliare la piazza. Il museo accoglie il visitatore in un viaggio nel passato, tra oggetti, strumenti e attrezzi appartenuti ai nostri nonni e bisnonni, 
	raccontando con autenticit√† gli antichi mestieri e la cultura contadina 
	che hanno segnato la storia del territorio." 
	transform="translate(505 249)">
  <circle r="4" fill="red"/>
  <text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">1</text>
</g>
<g class="point" data-title="Castello Carafa" data-description="Il Castello Carafa affonda le sue origini nell‚Äôepoca dell‚ÄôImperatore Federico II, 
	che ne volle la costruzione sulla sommit√† della collina per controllare e difendere la suggestiva Valle del Calore. 
	In seguito, sotto il dominio degli Angi√≤, il complesso fu arricchito da tre torri di avvistamento, presidiate da una guarnigione di soldati.
	Attorno al castello sorsero le prime abitazioni, costruite da abitanti provenienti dal vicino Casale di Santa Maria de Strictu e dai territori circostanti: da qui ebbe origine il primo nucleo del paese. 
	Intorno al 1500, il feudo pass√≤ alla nobile famiglia Carafa, dalla quale il castello prende il nome attuale.
	Dell‚Äôantica struttura medievale restano oggi l‚Äôimponente involucro esterno e una torre panoramica, dalla quale si pu√≤ godere di una spettacolare vista sulla Valle del Calore. 
	Il castello √® attualmente di propriet√† privata." 
	transform="translate(515 233)">
  <circle r="4" fill="red"/>
  <text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">2</text>
</g>
	<g class="point" data-title="Murales " data-description="Munaciello:Questo murales mostra, in primo piano la Vigna adiacente al 'Palazzo Vigna della Corte', 
	entrambi appartenenti ai Principi Carafa.
	Il Palazzo Vigna della Corte era la dimora estiva dei principi che amavano circondarsi di artisti, scrittori, pittori, 
	dando vita ad una delle Pinacoteche pi√π importanti della Provincia di Salerno. 
	In basso invece, √® possibile osservare il personaggio '√ô Munaciello'. 
	La leggenda narra che nel Castello vagasse il fantasma di un monaco, il quale aveva il compito di custodire il tesoro dei Principi. 
	Solo chi fosse riuscito nell‚Äôintento di togliergli il famoso cappuccio rosso sarebbe stato accompagnato nella stanza del tesoro.
	Pumpanaro:Questo murales raffigura una delle leggende pi√π popolari di Castel San Lorenzo, 
	cio√® quella dei 'pumpanari'. Essi erano uomini, nati nella notte di Natale, che si trasformavano nel mese di gennaio, 
	dopo la mezzanotte, in 'pumpanari', ovvero la versione popolare dei lupi mannari, e si aggiravano tra le vie del paese spaventando gli altri abitanti. 
	Sullo sfondo √® possibile ammirare il simbolo del nostro paese, un castello con le tre torri e il mulino del principe.
	Dragone:In questo murales √® raffigurata la leggenda secondo la quale, sul punto pi√π alto del paese, denominato 'Tempa' si accamp√≤ un drago,
	il quale predominava su tutti gli abitanti. Ci√≤ fino a quando, un cavaliere coraggioso, decise di affrontare il drago, riuscendo a ferirlo mortalmente.
	Il drago ferito, abbandon√≤ la localit√† 'Tempa', dirigendosi presso le sponde del fiume Calore, e lasciando una scia di sangue dietro di s√©. Da questa leggenda, 
	un tratto del centro storico, prese il nome di 'Via Dragonata'.
	Scrofa:In questo murales, sulle pendici della collina su cui si erige la Chiesa di Santa Maria, 
	√® raffigurata una scrofa che allatta i suoi piccoli. Quest'immagine rimanda alla leggenda del porcellino d‚Äôoro, 
	che si narra fosse in una delle 300 stanze del Castello." 
	transform="translate(522 243)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">3.1</text>
	</g>
	<g class="point" data-title="Vecchio Campanile" 
	data-description="ll campanile che ancora oggi si pu√≤ ammirare apparteneva all‚Äôantica chiesa parrocchiale di San Giovanni Battista, 
	situata lungo l‚Äôattuale via SS. Rosario. La chiesa, di dimensioni modeste ma articolata in tre navate, fu elevata a parrocchia con la progressiva crescita del nuovo centro abitato.
	Nel corso dell‚ÄôOttocento, intorno al 1800, l‚Äôedificio perse la funzione parrocchiale e venne trasformato in Oratorio della Congregazione del SS. Rosario. 
	Abbandonata e priva di adeguata manutenzione, la chiesa croll√≤ definitivamente nel 1860, lasciando come unica testimonianza il campanile.
	In origine la torre campanaria era pi√π slanciata e alta rispetto a oggi; un fulmine, colpendo la sommit√†, ne compromise la struttura, 
	conferendole l‚Äôaspetto pi√π tozzo che caratterizza il campanile attuale." 
	transform="translate(550 240)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">4</text>
	</g>
	<g class="point" data-title="Chiesa Madre" 
	data-description="Con l‚Äôespansione del paese e il progressivo degrado della vecchia chiesa parrocchiale, nel 1760 si decise di costruire una nuova e pi√π ampia Chiesa Parrocchiale di San Giovanni Battista, 
	su un terreno donato dalla famiglia Carafa, poco distante dall‚Äôedificio originario. La sua edificazione trasform√≤ l‚Äôassetto urbano, aprendo una nuova via di accesso e interrompendo un antico passaggio sotterraneo che,
	secondo la tradizione, collegava le propriet√† dei Carafa ed era usato come via di fuga.	La chiesa attuale, completata intorno al 1800 e gi√† benedetta nel 1796, presenta un‚Äôunica navata luminosa a croce latina,
	impreziosita da colonne con capitelli corinzi e basamenti in granito. Fu realizzata grazie al contributo dell‚Äôintera comunit√†, che partecip√≤ attivamente alla costruzione e, secoli dopo, anche al restauro successivo al terremoto del 1980.
	All‚Äôinterno si conservano numerosi altari laterali e importanti opere d‚Äôarte, tra cui la grande tela di Andrea Vaccaro, San Pietro in Vinculis, proveniente dalla ‚ÄúPinacoteca Carafa‚Äù, e il monumentale dipinto di Carmine Natale,
	San Giovanni Battista che predica le turbe (1782), collocato sull‚Äôaltare maggiore. Di grande interesse anche il Battesimo di Ges√π nel Giordano, di autore ignoto.
	Sotto l‚Äôaltare maggiore si trova una cripta, mai utilizzata per le sepolture dei sacerdoti." 
	transform="translate(540 220)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">5</text>
	</g>
	<g class="point" data-title="Statua della Madonna" 
	data-description="Fu voluta dalla popolazione come segno di devozione alla stessa." 
	transform="translate(512 214)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">6</text>
	</g>
	<g class="point" data-title="Monumento ai Caduti" 
	data-description="Realizzato negli anni 60, riporta i nomi dei caduti castellesi nelle 2 Guerre Mondiali."
	transform="translate(501 206)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">7</text>
	</g>
	<g class="point" data-title="Belvedere Capozzolo" 
	data-description="Il Belvedere Cosmo Capozzolo √® uno dei punti panoramici pi√π suggestivi di Castel San Lorenzo, nel cuore del Cilento. 
	Intitolato nel 2021 a Cosmo Capozzolo, gi√† consigliere comunale ed amato portalettere del paese, questo luogo unisce la bellezza del paesaggio a un forte valore simbolico.
	Cosmo Capozzolo era una figura profondamente stimata dalla comunit√†: grazie al suo lavoro di postino conosceva da vicino le esigenze dei cittadini e le faceva giungere all‚Äôamministrazione comunale. 
	Per questo impegno civico fu definito dal sindaco Michele Lavecchia la ‚ÄúSentinella del Comune‚Äù. Scomparso prematuramente nel 2006, pochi mesi dopo la sua elezione, √® ricordato per la sua umanit√†, 
	il suo idealismo e la passione per la politica locale. Presso il belvedere √® stata installata una cassetta postale simbolica, ispirata alle antiche borse dei postini: qui cittadini e visitatori possono lasciare idee, 
	proposte e messaggi, che la famiglia Capozzolo consegna poi all‚Äôamministrazione comunale. Il Belvedere Cosmo Capozzolo √® oggi un luogo di memoria, partecipazione e democrazia, 
	simbolo del dialogo tra cittadini e istituzioni e testimonianza del valore pi√π autentico della politica al servizio della comunit√†."
	transform="translate(501 225)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">8</text>
	</g>
	<g class="point" data-title="Comune" 
	data-description=""
	transform="translate(527 222)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">9</text>
	</g>
	<g class="point" data-title="Biblioteca" 
	data-description=""
	transform="translate(484 276)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">10</text>
	</g>
	<g class="point" data-title="Chiesa Santa Maria del Monte" 
	data-description="La Chiesa di Santa Maria del Monte, terminata nel 1713 e un tempo chiamata Santa Maria extra moenia perch√© situata fuori dall‚Äôabitato, custodisce una statua della Madonna simile a quella del Santuario di Novi Velia.
	La chiesa presenta una navata unica, √® in stile Barocco ed una volta presentava un soffitto in legno a cassettoni (perduto a causa dell‚Äôumidit√†). Fu ampliata nel 1753 dal parroco Don Agnello Milone.
	All‚Äôinterno si trovano sette altari, tra cui l‚Äôaltare maggiore con il celebre quadro Il Padre Eterno di Ciriaco Croce, e altre opere del Croce e di Carmine Natale, che raffigurano santi, 
	la Madonna Addolorata e scene della vita cristiana. Tra queste spicca la Madonna delle Grazie, detta ‚Äúdel Latte‚Äù, simbolo delle grazie concesse ai fedeli.
	La chiesa custodisce anche monumenti funebri di importanti famiglie locali, come i Carafa e i Milone, e il vescovo D. Gaetano Ivone di Felitto, ospite del Principe Carafa. 
	Fino al 1840 fu luogo di sepoltura dei defunti del paese.
	La chiesa rappresenta non solo un importante luogo di culto, ma anche un tesoro di arte e storia locale, testimone della fede e delle tradizioni di Castel San Lorenzo."
	transform="translate(426 399)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">11</text>
	</g>
	<g class="point" data-title="Belvedere Sabetta" 
	data-description=""
	transform="translate(412 400)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">12</text>
	</g>
	<g class="point" data-title="Pietre dei Santi" 
	data-description="E' un luogo simbolico della devozione del popolo castellese verso i 5 Santi. Difatti, i 5 Santi venivano portati sulla parte alta del paese
	(localit√† Tempa), per chiedere le Grazie in occasione di eventi avversi."
	transform="translate(66 110)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">13</text>
	</g>
	<g class="point" data-title="Palazzo Carafa" 
	data-description="Il Palazzo Vigna della Corte ha origini presumibilmente all‚Äôinizio del Settecento ed √® situato nella localit√† Santa Sofia, ai piedi del centro storico di Castel San Lorenzo.
	Inizialmente concepito come casa rurale, il palazzo era circondato da giardini, orti, uliveti e vigneti, da cui deriva il nome della zona e dell‚Äôedificio.
	La struttura, tipica delle costruzioni cilentane del XVIII secolo, presenta una pianta quadrata con quattro torri angolari, tre livelli (un seminterrato e due fuori terra) e un lungo viale d‚Äôingresso che conduce al portale centrale. 
	Il piano terra e il primo piano ospitavano sale e camere disposte in enfilade, con pavimenti originali in cotto o ceramica di Vietri e soffitti lignei. Al piano terra si trovavano anche cucine e depositi agricoli, mentre il seminterrato ospitava frantoio,
	cantina e magazzini.Il palazzo conserva elementi decorativi tipici del periodo, come stucchi barocchi, bugnati sulle torri e maschere ornamentali, 
	mentre la facciata principale si distingue per la simmetria e le otto lesene decorate che incorniciano finestre e balconi. Dal retro del primo piano si accede a un‚Äôampia terrazza panoramica con vista sulla Valle del Calore, 
	mentre le torri angolari offrono scorci suggestivi sull‚Äôintero paesaggio circostante.
	Un elemento affascinante della struttura √® il tunnel sotterraneo, utilizzato in passato dai principi Carafa per spostarsi tra i due palazzi in caso di pericolo. Il Palazzo Vigna della Corte rappresenta oggi un perfetto esempio di architettura signorile cilentana settecentesca,
	unendo storia, arte e panorami mozzafiato in un‚Äôunica visita."
	transform="translate(493 166)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">14</text>
	</g>
	<g class="point" data-title="Statua dell'Amore Universale" 
	data-description="La statua ‚ÄúAmore Universale‚Äù prende il nome dal simbolo che rappresenta: l‚Äôabbraccio eterno tra due innamorati e, metaforicamente,
	l‚Äôunione tra due popoli segnati dalla guerra, l‚ÄôItalia e l‚ÄôUcraina. Tutto ebbe inizio nel 1943, durante la Seconda Guerra Mondiale, 
	quando il giovane Luigi Peduto, cavaliere maresciallo della Guardia di Finanza originario di Castel San Lorenzo, 
	fu deportato nel campo di concentramento di Krems, in Austria. L√¨ incontr√≤ Mokryna Yurz (chiamata Maria da Luigi), 
	anche lei ventenne e costretta ai lavori forzati. Nonostante la barriera linguistica e le difficili condizioni,
	i due si innamorarono profondamente. Alla liberazione del campo nel 1945, furono separati: Mokryna torn√≤ in Ucraina e Luigi in Italia,
	impediti dalle autorit√† sovietiche di riunirsi. Entrambi formarono famiglie, ma il ricordo del loro amore rimase vivo. Solo nel 2004, grazie al programma televisivo ucraino Aspettami, 
	Luigi riusc√¨ finalmente a ritrovare Mokryna e a riabbracciarla dopo sessant‚Äôanni. La loro storia √® stata celebrata nel 2013 con una scultura in bronzo a Kiev, 
	vicino al Ponte degli Innamorati, raffigurante i due anziani stretti in un abbraccio eterno. Una copia della scultura √® stata inaugurata a Castel San Lorenzo il 30 aprile 2017, 
	diventando simbolo di amore eterno e memoria storica, oltre a essere una tappa suggestiva per visitatori e coppie"
	transform="translate(460 138)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">15</text>
	</g>
	<g class="point" data-title="Fontana dei 'Ciucci' sopra" 
	data-description="Una sorgente a cui storicamente ci si recava per abbeverare gli asini"
	transform="translate(518 287)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">16</text>
	</g>
	<g class="point" data-title="Fontana dei 'Ciucci' sotto" 
	data-description="Una sorgente a cui storicamente ci si recava per abbeverare gli asini"
	transform="translate(533 288)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">17</text>
	</g>
	<g class="point" data-title="Piazza Madonnina" 
	data-description=""
	transform="translate(551 462)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">18</text>
	</g>
	<g class="point" data-title="Chiesa dei Santi" 
	data-description="Il Santuario dei Santi Cosma e Damiano, costruito nella prima met√† del Settecento, si trova nell‚Äôomonimo borgo lungo la strada provinciale ed √® una delle mete di pellegrinaggio pi√π importanti di Castel San Lorenzo. 
	La chiesa presenta una sola navata e quattro altari laterali, con l‚Äôaltare maggiore realizzato in marmo nel 1902 grazie alla devozione dei cittadini castellesi residenti a New York.
	Originariamente affrescata da Carmine Natale e Gabriele Croce con scene sulla vita dei Martiri, la volta fu ricoperta di stucchi nel 1848 a seguito di un crollo.
	Sull‚Äôaltare maggiore si trovano tre nicchie: due dedicate ai Santi Cosma e Damiano e quella centrale al patrono San Giovanni Battista, la cui statua, 
	realizzata dal celebre scultore napoletano Colombo agli inizi del Settecento, fu trasferita qui dalla chiesa parrocchiale. 
	Le statue dei Santi e quelle di San Francesco Borgia e San Luigi risalgono al XVIII secolo.
	All‚Äôinterno si conservano numerose opere di Carmine Natale, tra cui due grandi tele: il Gruppo della Vergine e Ges√π morto (1779) e i Santi innamorati della SS. Eucarestia, 
	oltre a due pitture lignee sotto la cantoria dell‚Äôorgano raffiguranti la Fede e la Carit√†.
	Elevata a Santuario nel 2009, la chiesa √® famosa per le devozioni legate ai Santi Cosma e Damiano, Medici e Martiri, 
	ai quali vengono attribuiti numerosi miracoli. Pellegrini provenienti da diversi paesi raggiungevano il Santuario a piedi, 
	anche scalzi, offrendo voti in segno di ringraziamento: oggetti preziosi, in oro, argento o bronzo, spesso raffiguranti la parte del corpo per la quale si chiedeva l‚Äôintercessione.
	Oggi il Santuario dei Santi Cosma e Damiano continua a essere un simbolo di fede, devozione e tradizione, attrazione culturale e religiosa del territorio,
	ammirato anche per le sue opere artistiche e la storia che custodisce."
	transform="translate(379 108)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">19</text>
	</g>
	<g class="point" data-title="Parcheggio Don Bosco" 
	data-description=""
	transform="translate(360 113)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">20</text>
	</g>
	<g class="point" data-title="Parcheggio Scuola" 
	data-description=""
	transform="translate(343 86)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">21</text>
	</g>
	<g class="point" data-title="Parcheggio Ex Campetto" 
	data-description=""
	transform="translate(366 157)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">22</text>
	</g>
	<g class="point" data-title="Parcheggio Noele" 
	data-description=""
	transform="translate(420 200)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">23</text>
	</g>
	<g class="point" data-title="Parcheggio Santa Maria" 
	data-description=""
	transform="translate(454 371)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">24</text>
	</g>
	<g class="point" data-title="Bagni Pubblici" 
	data-description=""
	transform="translate(497 257)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">25</text>
	</g>
	<g class="point" data-title="Parcheggio Vigna della Corte Sopra" 
	data-description=""
	transform="translate(479 164)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">26</text>
	</g>
	<g class="point" data-title="Parcheggio Vigna della Corte Sotto" 
	data-description=""
	transform="translate(557 126)">
	<circle r="4" fill="red"/>
	<text text-anchor="middle" dominant-baseline="middle" fill="white" pointer-events="none">27</text>
	</g>
	

<g id="fumetto">
  <rect id="fumetto-box" rx="8" ry="8" width="230" height="100" fill="white" stroke="black"/>
  <text id="fumetto-title" x="10" y="20" font-size="13" font-weight="bold" style="user-select:none;"></text>
  <text id="fumetto-link-text" fill="#0066cc" font-size="10" text-decoration="underline" cursor="pointer" style="user-select:none;">Dettagli</text>
  <foreignObject id="fumetto-desc-container" x="10" y="35" width="210" height="0" style="overflow:auto; display:none;">
    <div xmlns="http://www.w3.org/1999/xhtml" style="font-size:15px; line-height:1.2em; user-select:none;"></div>
  </foreignObject>
</g>

</g>
</svg>
</div>
<section id="info">
	<div class="info-content">
		Descrizioni a cura 
		<a href="https://www.instagram.com/associazioneraccontare/" target="_blank" rel="noopener noreferrer" rel="noopener"
		aria-label="Apre in una nuova scheda"><img src="img/ass.png" width="90" height="100">
		</a>
	</div>
</section>
  <footer>
    ¬© 2025 Museo della Civilt√† Contadina
  </footer>	
  <button id="scrollTopBtn" title="Torna su">‚Üë</button>
  <script>
// Effetto di comparsa sezione allo scroll
const sections = document.querySelectorAll('section');
const onScroll = () => {
  sections.forEach(sec => {
	const rect = sec.getBoundingClientRect();
	if (rect.top < window.innerHeight - 100) {
          sec.classList.add('visible');
        }
      });
    };
    window.addEventListener('scroll', onScroll);
    onScroll();

    // Effetto luce dinamica (spotlight)
const hero = document.querySelector('.hero');
    /*hero.addEventListener('mousemove', (e) => {
      const rect = hero.getBoundingClientRect();
      const x = ((e.clientX - rect.left) / rect.width) * 100;
      const y = ((e.clientY - rect.top) / rect.height) * 100;
      hero.style.setProperty('--x', `${x}%`);
      hero.style.setProperty('--y', `${y}%`);
    });*/

    // Modalit√† notturna
const toggleNight = document.getElementById('toggleNight');

if (localStorage.getItem('theme') === 'night') {
  document.body.classList.add('night');
  toggleNight.textContent = '‚òÄÔ∏è Modalit√† Giorno';
}
toggleNight.addEventListener('click', () => {
      document.body.classList.toggle('night');
  if (document.body.classList.contains('night')) {
    localStorage.setItem('theme', 'night');
    toggleNight.textContent = '‚òÄÔ∏è Modalit√† Giorno';
  } else {
    localStorage.setItem('theme', 'light');
    toggleNight.textContent = 'üåô Modalit√† Notte';
  }
});



const svg = document.getElementById('svg');
const bounds = {x:0,y:0,w:800,h:600};
let viewBox = {...bounds};

const minZoom = 1, maxZoom = 4;
let zoomFactor=1.2;
let isPanning=false, start={x:0,y:0};
const zoomSlider = document.getElementById('zoomSlider');
const fumettiList = document.getElementById('fumettiList');
const fumetto = document.getElementById('fumetto');
const box = document.getElementById('fumetto-box');
const img = document.getElementById('fumetto-img');
const link = document.getElementById('fumetto-link');
const linkText = document.getElementById('fumetto-link-text');
let activePoint = null;
zoomSlider.value = minZoom;

const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoits > 0
const isSmallScreen = window.matchMedia('(max-width: 768px)').matches;
const isMobile = isTouchDevice && isSmallScreen;

if (isMobile) {
  // Disabilita rotellina mouse
  svg.removeEventListener('wheel', onWheel);
  // Slider nascosto
  zoomSlider.style.display = 'none';
  // Zoom pi√π morbido
  zoomFactor = 1.1;
  // Attiva pinch
  enablePinchZoom();
} else {
  // Desktop
 // svg.addEventListener('wheel', zoom);
 svg.addEventListener('wheel', onWheel);
}
document.body.classList.add(isMobile ? 'mobile' : 'desktop');
// ===== PINCH TO ZOOM (mobile) =====
let lastPinchDist = null;

function enablePinchZoom() {
  svg.addEventListener('touchmove', e => {
    if (e.touches.length === 2) {
      e.preventDefault();

      const dx = e.touches[0].clientX - e.touches[1].clientX;
      const dy = e.touches[0].clientY - e.touches[1].clientY;
      const dist = Math.hypot(dx, dy);

      if (lastPinchDist) {
        const scale = lastPinchDist / dist;
        zoomAtCenter(scale);
      }

      lastPinchDist = dist;
    }
  }, { passive: false });

  svg.addEventListener('touchend', () => {
    lastPinchDist = null;
  });
}

// Zoom e pan


svg.addEventListener('pointerdown', startPan);
svg.addEventListener('pointermove', pan);
svg.addEventListener('pointerup', endPan);
svg.addEventListener('pointercancel', endPan);
svg.addEventListener('pointerleave', endPan);

let lastWheelTime = 0;
const wheelDelay = 100; // in ms

function zoomThrottled(e) {
  const now = Date.now();
  if (now - lastWheelTime < wheelDelay) return; // ignora eventi troppo ravvicinati
  lastWheelTime = now;
  zoom(e); // chiama la tua funzione di zoom originale
}

//svg.addEventListener('wheel', zoomThrottled);
	  
document.getElementById('zoomIn').onclick = ()=>zoomAtCenter(1/zoomFactor);
document.getElementById('zoomOut').onclick = ()=>zoomAtCenter(zoomFactor);
document.getElementById('reset').onclick = resetView;
document.getElementById('showZoomSlider').onclick = ()=>{zoomSlider.style.display = zoomSlider.style.display==='none'?'block':'none';};
zoomSlider.addEventListener('input',(e)=>{
  const targetZoom = parseFloat(e.target.value);
  const factor = (bounds.w/viewBox.w)/targetZoom;
  zoomAtCenter(factor);
});
let wheelDelta = 0;
let zoomRAF = null;

function onWheel(e) {
  e.preventDefault();

  wheelDelta += e.deltaY;

  if (!zoomRAF) {
    zoomRAF = requestAnimationFrame(() => {
      const scale = wheelDelta < 0 ? 1 / zoomFactor : zoomFactor;
      zoomAtCenter(scale);

      wheelDelta = 0;
      zoomRAF = null;
    });
  }
}

svg.addEventListener('wheel', onWheel, { passive: false });

/*function zoom(e){
  e.preventDefault();
  const rect = svg.getBoundingClientRect();
  const mx = (e.clientX - rect.left)/rect.width*viewBox.w + viewBox.x;
  const my = (e.clientY - rect.top)/rect.height*viewBox.h + viewBox.y;
  const scale = e.deltaY<0?1/zoomFactor:zoomFactor;
  applyZoom(scale,mx,my);
}*/

function zoomAtCenter(scale){applyZoom(scale,viewBox.x+viewBox.w/2,viewBox.y+viewBox.h/2);}
function applyZoom(scale,cx,cy){
  const newW=viewBox.w*scale, newH=viewBox.h*scale;
  const zoomLevel=bounds.w/newW;
  if(zoomLevel<minZoom||zoomLevel>maxZoom) return;
  viewBox.w=newW; viewBox.h=newH;
  viewBox.x=cx-(cx-viewBox.x)*scale;
  viewBox.y=cy-(cy-viewBox.y)*scale;
  clampViewBox(); updateViewBox();
}
function startPan(e){isPanning=true; start.x=e.clientX; start.y=e.clientY;}
function pan(e){if(!isPanning) return; const dx=(e.clientX-start.x)*(viewBox.w/svg.clientWidth); const dy=(e.clientY-start.y)*(viewBox.h/svg.clientHeight); viewBox.x-=dx; viewBox.y-=dy; start.x=e.clientX; start.y=e.clientY; clampViewBox(); updateViewBox();}
function endPan(){isPanning=false;}
function clampViewBox(){viewBox.x=Math.max(bounds.x,Math.min(viewBox.x,bounds.x+bounds.w-viewBox.w)); viewBox.y=Math.max(bounds.y,Math.min(viewBox.y,bounds.y+bounds.h-viewBox.h));}
function updateViewBox(){svg.setAttribute('viewBox',`${viewBox.x} ${viewBox.y} ${viewBox.w} ${viewBox.h}`); zoomSlider.value=(bounds.w/viewBox.w).toFixed(2);updateFumettoPosition();}
function resetView(){viewBox={...bounds}; updateViewBox(); zoomSlider.value=(bounds.w/viewBox.w).toFixed(2);}

// Click sui punti
document.querySelectorAll('.point').forEach(p=>{
  p.addEventListener('click',e=>{
    e.stopPropagation();
    if(activePoint===p){chiudiFumetto();} else {activePoint=p; mostraFumetto(p);}
  });
});
document.addEventListener('click', (e) => {
  if (!e.target.closest('.point') && !e.target.closest('#fumetto')) {
    chiudiFumetto();
  }
});
// Mostra fumetto
function mostraFumetto(point){
  const titleEl = document.getElementById('fumetto-title');
  const linkText = document.getElementById('fumetto-link-text');
  const descContainer = document.getElementById('fumetto-desc-container');
  const descDiv = descContainer.querySelector('div');

  // Imposta titolo e descrizione
  titleEl.textContent = point.dataset.title || `Punto ${point.querySelector('text').textContent}`;
  descDiv.textContent = point.dataset.description || 'Descrizione non disponibile';
  descContainer.style.display = 'none';
  descContainer.setAttribute('height', 0);
  document.getElementById('fumetto-box').setAttribute('height', 40);

  // Posiziona fumetto sopra il punto
  const m = point.transform.baseVal[0].matrix;
  const cx = m.e, cy = m.f;
  const x = cx - 20; 
  const y = cy - 60;

  const box = document.getElementById('fumetto-box');
  box.setAttribute('x', x);
  box.setAttribute('y', y);
  titleEl.setAttribute('x', x + 10);
  titleEl.setAttribute('y', y + 15);
  linkText.setAttribute('x', x + 10);
  linkText.setAttribute('y', y + 30);
  descContainer.setAttribute('x', x + 10);
  descContainer.setAttribute('y', y + 35);

  fumetto.style.display = 'block';
  requestAnimationFrame(()=>fumetto.classList.add('show'));

  // Gestione click sul link per espandere/contrarre
  linkText.onclick = (e) => {
    e.stopPropagation();
    if(descContainer.style.display === 'none'){
      descContainer.style.display = 'block';
      descContainer.setAttribute('height', 80);
      box.setAttribute('height', 120); // espande il rettangolo
	  descContainer.scrollTop = 0;
    } else {
      descContainer.style.display = 'none';
      descContainer.setAttribute('height', 0);
      box.setAttribute('height', 40); // riduce il rettangolo
    }
  };
}

function chiudiFumetto(){fumetto.classList.remove('show'); setTimeout(()=>fumetto.style.display='none',250); activePoint=null;}

// Lista fumetti
document.getElementById('showFumettiList').onclick = () => {
  if(fumettiList.style.display==='none'){
    fumettiList.innerHTML=''; // svuota la lista
    document.querySelectorAll('.point').forEach((point,idx)=>{
      const li = document.createElement('li');
      li.style.cursor='pointer';
      li.style.padding='5px';
      li.style.borderBottom='1px solid #ddd';
      li.style.fontSize = '14px';

      // Usa il titolo della descrizione come testo
      const title = point.dataset.title || `Punto ${idx+1}`;
      li.textContent = `${idx+1}. ${title}`;

      // Click mostra fumetto
      li.addEventListener('click', e=>{
        e.stopPropagation();
        mostraFumetto(point);
        fumettiList.style.display='none';
      });

      fumettiList.appendChild(li);
    });
    fumettiList.style.display='block';
  } else {
    fumettiList.style.display='none';
  }
};
// Seleziona il div della descrizione dentro il foreignObject
const descDiv = document.querySelector('#fumetto-desc-container div');

descDiv.addEventListener('wheel', (e) => {
  e.stopPropagation(); // impedisce allo zoom della mappa di attivarsi
  // Lascia scorrere normalmente
});
function updateFumettoPosition() {
  if (!activePoint) return;

  const m = activePoint.transform.baseVal[0].matrix;
  const cx = m.e;
  const cy = m.f;

  // Trasforma le coordinate in base al viewBox
  const svgWidth = svg.clientWidth;
  const svgHeight = svg.clientHeight;
  const scaleX = svgWidth / viewBox.w;
  const scaleY = svgHeight / viewBox.h;

  const x = cx - 20;
  const y = cy - 60;

  const box = document.getElementById('fumetto-box');
  const titleEl = document.getElementById('fumetto-title');
  const linkText = document.getElementById('fumetto-link-text');
  const descContainer = document.getElementById('fumetto-desc-container');

  box.setAttribute('x', x);
  box.setAttribute('y', y);
  titleEl.setAttribute('x', x + 10);
  titleEl.setAttribute('y', y + 15);
  linkText.setAttribute('x', x + 10);
  linkText.setAttribute('y', y + 30);
  descContainer.setAttribute('x', x + 10);
  descContainer.setAttribute('y', y + 35);
}

let isDragging = false;
svg.addEventListener('mousedown', e=>{
  isPanning = true;
  isDragging = false;
  start.x = e.clientX; start.y = e.clientY;
});
window.addEventListener('mousemove', e=>{
  if(!isPanning) return;
  const dx = (e.clientX - start.x) * (viewBox.w / svg.clientWidth);
  const dy = (e.clientY - start.y) * (viewBox.h / svg.clientHeight);
  if(Math.abs(dx) > 1 || Math.abs(dy) > 1) isDragging = true;
  viewBox.x -= dx; viewBox.y -= dy;
  start.x = e.clientX; start.y = e.clientY;
  clampViewBox(); updateViewBox();
});
window.addEventListener('mouseup', ()=> isPanning=false);

window.addEventListener('click', e=>{
  if(activePoint && !fumetto.contains(e.target) && !isDragging) chiudiFumetto();
});

const togglePointsBtn = document.getElementById('togglePoints');

togglePointsBtn.addEventListener('click', () => {
  document.body.classList.toggle('points-hidden');
});

let warmedUp = false;

function warmUpZoomOnce(){
  if (warmedUp) return;
  warmedUp = true;

  const cx = viewBox.x + viewBox.w / 2;
  const cy = viewBox.y + viewBox.h / 2;

  requestAnimationFrame(() => {
    applyZoom(0.98, cx, cy);
    requestAnimationFrame(() => {
      applyZoom(1 / 0.98, cx, cy);
    });
  });
}
const scrollBtn = document.getElementById("scrollTopBtn");
window.addEventListener('load', warmUpZoomOnce);
  // Mostra il pulsante dopo 100px di scroll
  window.onscroll = function() {
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
      scrollBtn.style.display = "block";
    } else {
      scrollBtn.style.display = "none";
    }
  };

  // Scroll fluido verso l'alto al click
  scrollBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
  </script>
  </body>

</html>